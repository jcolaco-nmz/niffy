{% extends "./base.html" %}

{% block "container" %}

<div class="input-group col-md-12" style="width: 100%; padding-top: 7px; padding-bottom: 7px;">
    <input type="text" class="search-query form-control" placeholder="Search your invoices..." />
    <span class="input-group-btn">
        <button class="btn btn-primary" type="button"><i class="fa fa-search"></i></button>
    </span>
</div>

{% for inv in invoices %}
<div class="row invoice-result" data-id="{{inv.key.id}}">
    <div class="col-md-1 col-xs-1 col-md-1 col-lg-1">
        <h4><i class="fa fa-file"></i></h4>
    </div>
    <div class="col-md-11 col-xs-11 col-md-11 col-lg-11">
        <div class="row">
            <div class="col-md-8 col-xs-8 col-md-8 col-lg-8 inv-company">
                <span>{{ inv.company_name }}</span>
            </div>
            <div class="col-md-4 col-xs-4 col-md-4 col-lg-4 inv-total">
                <span class="pull-right">{{ inv.total_formatted }}</span>
            </div>
        </div>
        <div class="row">
            <div class="col-md-8 col-xs-8 col-md-8 col-lg-8 inv-description">
                {{ inv.description }}
            </div>
            <div class="col-md-4 col-xs-4 col-md-4 col-lg-4 inv-date">
                <span class="pull-right">{{ inv.date_formatted }}</span>
            </div>
        </div>
    </div>
</div>
{% endfor %}
{% endblock %}

{% block "extra-script" %}
<script>

    $('.invoice-result').click(function(ev) {
        var id = $(ev.currentTarget).attr('data-id');
        window.location.href = '/invoices/' + id;
    });

</script>
{% endblock %}
